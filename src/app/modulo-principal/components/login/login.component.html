<!-- login.component.html -->
<div class="container-fluid" style="padding: 0;">
  <app-nav-bar></app-nav-bar>
  <div class="background-image">
    <div class="col-md-8 mx-auto" style="padding: 6rem;">
      <div class="login-form">
        <form [formGroup]="formLogin" class="align">
          <app-title [title]="'Ingresá a tu Cuenta'" [colorTitle]="'#FF990F'" [fontSizeTitle]="'48px'"
            [fontWeightTitle]="'400'" style="text-align: center"></app-title>
          <div class="form-group">
            <label for="email" class="text">Email</label>
            <br />
            <div style="display: flex; align-items: center">
              <input type="email" id="email" name="email" formControlName="email"
                placeholder="Ingresa tu correo electrónico" required class="rounded-input" style="height: 45px" />
            </div>
            <div class="error-message"
              *ngIf="this.formLogin.get('email')?.hasError('required') && this.formLogin.get('email')?.touched">
              El email es requerido</div>
            <div class="error-message"
              *ngIf="this.formLogin.get('email')?.hasError('pattern') && this.formLogin.get('email')?.touched && this.formLogin.get('email')?.hasError('pattern')">
              Ingrese un email válido</div>
            <div class="error-message"
              *ngIf="this.formLogin.get('email')?.hasError('minlength') && this.formLogin.get('email')?.touched">
              El email debe tener al menos 3 caracteres</div>
          </div>

          <div class="form-group">
            <label for="password" class="text">Password</label>
            <div class="password-input-container">
              <input type="{{ showPassword ? 'text' : 'password' }}" id="password" name="password" formControlName="password"
                placeholder=" " required class="rounded-input" style="height: 45px" />
                <span class="placeholder-text">Ingresa tu contraseña</span>
              <mat-icon class="toggle-password-btn" (click)="togglePasswordVisibility()">
                {{ showPassword ? 'visibility_off' : 'visibility' }}
              </mat-icon>
            </div>
            <div class="error-message" *ngIf="
                  this.formLogin.get('password')?.touched &&
                  this.formLogin.get('password')?.invalid &&
                  this.formLogin.get('password')?.touched
                ">
              <div class="error-message" *ngIf="
                    this.formLogin.get('password')?.hasError('required') &&
                    this.formLogin.get('password')?.touched
                  ">
                La contraseña es requerida
              </div>
              <div class="error-message" *ngIf="
                    this.formLogin.get('password')?.hasError('minlength') ||
                    (this.formLogin.get('password')?.hasError('maxlength') &&
                      this.formLogin.get('password')?.touched)
                  ">
                La contraseña debe tener entre 8 y 15 caracteres
              </div>
              <div class="error-message" *ngIf="
                    this.formLogin.get('password')?.hasError('pattern') &&
                    this.formLogin.get('password')?.touched
                  ">
                La contraseña debe contener al menos una minúscula, una
                mayúscula, un número y un símbolo
              </div>
            </div>
          </div>

          <button class="btn" (click)="OnSubmit()">INICIAR SESION</button>
          <button class="btn" style="background-color: #757575" [routerLink]="['']">
            VOLVER ATRAS
          </button>

          <!-- <button class="btn-secondary" >Iniciar Sesión con Google</button> -->
          <!-- <p class="recover-password" class="text">Recuperar Contraseña</p> -->
        </form>
      </div>
    </div>
    <div class="row mt-auto">
      <app-footer></app-footer>
    </div>

  </div>
</div>